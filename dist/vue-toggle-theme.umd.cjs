(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.ToggleTheme=r(e.Vue))})(this,function(e){"use strict";const r=(a,t)=>{const n=a.__vccOpts||a;for(const[o,l]of t)n[o]=l;return n},s={name:"DarkMode",props:{defaultTheme:{type:String,default:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}},setup(a){const t=e.ref(null),n=e.ref(null),o=document.documentElement,l=()=>{o.setAttribute("data-theme",t.value),c()},c=()=>{const h=document.querySelector('meta[name="theme-color"]'),f=getComputedStyle(o).getPropertyValue("--meta-theme-color");h.setAttribute("content",f)},m=()=>{l(),n.value=requestAnimationFrame(m)},i=()=>{n.value&&cancelAnimationFrame(n.value),t.value=t.value==="dark"?"light":"dark",localStorage.setItem("theme",t.value),m()},d=e.computed(()=>({"theme-dark":t.value==="dark","theme-light":t.value==="light"}));return e.onMounted(()=>{t.value=localStorage.getItem("theme")||a.defaultTheme,l(),m()}),e.onUnmounted(()=>{n.value&&cancelAnimationFrame(n.value)}),{themeClasses:d,pickTheme:i}}};function u(a,t,n,o,l,c){return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(o.themeClasses),onClick:t[0]||(t[0]=(...m)=>o.pickTheme&&o.pickTheme(...m))},[e.renderSlot(a.$slots,"default")],2)}return r(s,[["render",u]])});
